 <!-- copied and customised from django's github page https://github.com/django/django/blob/main/django/forms/templates/django/forms/widgets/clearable_file_input.html -->

{% if widget.is_initial %}
    <p>{{ widget.initial_text }}:</p>
    <a href="{{ widget.value.url }}">
        <img width="386" height="500" class="uploaded-image" src="{{ widget.value.url }}">
    </a>
    {% if not widget.required %}
        <div class="custom-image-checkbox-frame">
            <input class="custom-image-checkbox" id="custom-image-new-image" type="checkbox" name="{{ widget.checkbox_name }}" 
                id="{{ widget.checkbox_id }}">
            <label class="custom-image-checkbox-label" for="{{ widget.checkbox_id }}">
                {{ widget.clear_checkbox_label }}</label>
        </div>
    {% endif %}
    {{ widget.input_text }}
{% endif %}
<span class="custom-image-input">
    Select Image <input id="new-image" type="{{ widget.type }}" name="{{ widget.name }}"
    {% include 'django/forms/widgets/attrs.html' %}>
</span>
<strong>
    <p class="filename" id="filename"></p>
</strong>
